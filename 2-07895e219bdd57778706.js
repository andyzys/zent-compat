(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{735:function(e,t,i){"use strict";var n={};i.r(n),i.d(n,"mark",function(){return c}),i.d(n,"Upload",function(){return d});var r=i(1),o=i(0),a=i(2),s=i.n(a);function l(e){return e}var p=i(181),m=i(720),c=(i(676),i(698),i(679),"zh-CN"),f={image:"图片",voice:"音频"},u={image:"张",voice:"个"},d=Object(r.a)(Object(r.a)({},{confirm:"确认",cancel:"取消",ok:"我知道了",comma:"，",reset:"重置"}),{title_voice:"声音选择",title_image:"图片选择",input:{holder:"添加",maxAmount:function(e){var t=e.maxAmount,i=e.type;return"最多上传 "+t+" "+u[i]+f[i]},maxSize:function(e){var t=e.maxSize,i=e.type;return"不能上传大于 "+t+" 的"+f[i]},type:function(e){var t=e.type;return"不能上传不支持的"+f[t]+"类型"}},popup:{web:"网络图片",group:"上传至分组",holder:"请添加网络图片地址",title_voice:"本地音频",title_image:"本地图片",type:function(e){var t=e.types,i=e.size;return"仅支持 "+t.join("、")+" "+t.length+"种格式, 大小不超过"+i},extract:"提取",extracting:"提取中..."}}),g=Object(o.createContext)(n),x=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.b)(t,e),t.prototype.receive=function(){var e=this.props,t=e.componentName,i=e.defaultI18n,n=this.context,o=n&&n[t]||{};return Object(r.a)(Object(r.a)(Object(r.a)({},"function"==typeof i?i():i),"function"==typeof o?o():o),{mark:n&&n.mark||"zh-CN"})},t.prototype.render=function(){var e=this.props,t=e.children,i=(e.componentName,e.defaultI18n,Object(r.c)(e,["children","componentName","defaultI18n"]));return t(this.receive(),i)},t.contextType=g,t}(o.Component),h=i(716),v=i(221),y=i(183),w=(i(678),i(681),i(680),i(689),i(349)),b=i.n(w);function E(e){return!!e&&("object"===b()(e)||"function"==typeof e)&&"function"==typeof e.then}var N=i(346),U=(i(699),1048576),k=1024*U;function I(e,t){return void 0===t&&(t=1),(e=+e||0)>=k?(e/k).toFixed(t)+" GB":e>=U?(e/U).toFixed(t)+" MB":e>=1024?(e/1024).toFixed(t)+" KB":e.toFixed(t)+" B"}function C(e,t,i){return void 0===e&&(e=i),"function"==typeof e?e(t):e}var F=function(e){return Array.from(e).map(function(e){return e.charCodeAt(0)})},z=F("META-INF/mozilla.rsa"),j=F("[Content_Types].xml"),_=F("_rels/.rels"),S=function(e){var t=e instanceof Uint8Array?e:new Uint8Array(e);if(!(t&&t.length>1))return null;var i=function(e,i){i=Object(r.a)({offset:0},i);for(var n=0;n<e.length;n++)if(i.mask){if(e[n]!==(i.mask[n]&t[n+i.offset]))return!1}else if(e[n]!==t[n+i.offset])return!1;return!0};if(i([255,216,255]))return{ext:"jpg",mime:"image/jpeg"};if(i([137,80,78,71,13,10,26,10]))return{ext:"png",mime:"image/png"};if(i([71,73,70]))return{ext:"gif",mime:"image/gif"};if(i([87,69,66,80],{offset:8}))return{ext:"webp",mime:"image/webp"};if(i([70,76,73,70]))return{ext:"flif",mime:"image/flif"};if((i([73,73,42,0])||i([77,77,0,42]))&&i([67,82],{offset:8}))return{ext:"cr2",mime:"image/x-canon-cr2"};if(i([73,73,42,0])||i([77,77,0,42]))return{ext:"tif",mime:"image/tiff"};if(i([66,77]))return{ext:"bmp",mime:"image/bmp"};if(i([73,73,188]))return{ext:"jxr",mime:"image/vnd.ms-photo"};if(i([56,66,80,83]))return{ext:"psd",mime:"image/vnd.adobe.photoshop"};if(i([80,75,3,4])){if(i([109,105,109,101,116,121,112,101,97,112,112,108,105,99,97,116,105,111,110,47,101,112,117,98,43,122,105,112],{offset:30}))return{ext:"epub",mime:"application/epub+zip"};if(i(z,{offset:30}))return{ext:"xpi",mime:"application/x-xpinstall"};if(i(j,{offset:30})||i(_,{offset:30})){var n=function(e){return e.findIndex(function(e,t,i){return 80===i[t]&&75===i[t+1]&&3===i[t+2]&&4===i[t+3]})},o=n(t.subarray(4,2004));if(-1!==o){var a=n(t.subarray(o+8,o+8+1e3));if(-1!==a){var s=8+o+a+30;if(i(F("word/"),{offset:s}))return{ext:"docx",mime:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"};if(i(F("ppt/"),{offset:s}))return{ext:"pptx",mime:"application/vnd.openxmlformats-officedocument.presentationml.presentation"};if(i(F("xl/"),{offset:s}))return{ext:"xlsx",mime:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}}}}}if(i([80,75])&&(3===t[2]||5===t[2]||7===t[2])&&(4===t[3]||6===t[3]||8===t[3]))return{ext:"zip",mime:"application/zip"};if(i([117,115,116,97,114],{offset:257}))return{ext:"tar",mime:"application/x-tar"};if(i([82,97,114,33,26,7])&&(0===t[6]||1===t[6]))return{ext:"rar",mime:"application/x-rar-compressed"};if(i([31,139,8]))return{ext:"gz",mime:"application/gzip"};if(i([66,90,104]))return{ext:"bz2",mime:"application/x-bzip2"};if(i([55,122,188,175,39,28]))return{ext:"7z",mime:"application/x-7z-compressed"};if(i([120,1]))return{ext:"dmg",mime:"application/x-apple-diskimage"};if(i([51,103,112,53])||i([0,0,0])&&i([102,116,121,112],{offset:4})&&(i([109,112,52,49],{offset:8})||i([109,112,52,50],{offset:8})||i([105,115,111,109],{offset:8})||i([105,115,111,50],{offset:8})||i([109,109,112,52],{offset:8})||i([77,52,86],{offset:8})||i([100,97,115,104],{offset:8})))return{ext:"mp4",mime:"video/mp4"};if(i([77,84,104,100]))return{ext:"mid",mime:"audio/midi"};if(i([26,69,223,163])){var l=t.subarray(4,4100),p=l.findIndex(function(e,t,i){return 66===i[t]&&130===i[t+1]});if(-1!==p){var m=p+3,c=function(e){return Array.from(e).every(function(e,t){return l[m+t]===e.charCodeAt(0)})};if(c("matroska"))return{ext:"mkv",mime:"video/x-matroska"};if(c("webm"))return{ext:"webm",mime:"video/webm"}}}if(i([0,0,0,20,102,116,121,112,113,116,32,32])||i([102,114,101,101],{offset:4})||i([102,116,121,112,113,116,32,32],{offset:4})||i([109,100,97,116],{offset:4})||i([119,105,100,101],{offset:4}))return{ext:"mov",mime:"video/quicktime"};if(i([82,73,70,70])&&i([65,86,73],{offset:8}))return{ext:"avi",mime:"video/x-msvideo"};if(i([48,38,178,117,142,102,207,17,166,217]))return{ext:"wmv",mime:"video/x-ms-wmv"};if(i([0,0,1,186]))return{ext:"mpg",mime:"video/mpeg"};if(i([0,0,0,28,102,116,121,112,51,103,112,52]))return{ext:"3gp",mime:"video/3gpp"};for(var f=0;f<2&&f<t.length-16;f++)if(i([73,68,51],{offset:f})||i([255,226],{offset:f,mask:[255,226]}))return{ext:"mp3",mime:"audio/mpeg"};if(i([102,116,121,112,77,52,65],{offset:4})||i([77,52,65,32]))return{ext:"m4a",mime:"audio/m4a"};if(i([79,112,117,115,72,101,97,100],{offset:28}))return{ext:"opus",mime:"audio/opus"};if(i([79,103,103,83]))return i([128,116,104,101,111,114,97],{offset:28})?{ext:"ogv",mime:"video/ogg"}:i([1,118,105,100,101,111,0],{offset:28})?{ext:"ogm",mime:"video/ogg"}:i([127,70,76,65,67],{offset:28})?{ext:"oga",mime:"audio/ogg"}:i([83,112,101,101,120,32,32],{offset:28})?{ext:"spx",mime:"audio/ogg"}:i([1,118,111,114,98,105,115],{offset:28})?{ext:"ogg",mime:"audio/ogg"}:{ext:"ogx",mime:"application/ogg"};if(i([102,76,97,67]))return{ext:"flac",mime:"audio/x-flac"};if(i([82,73,70,70])&&i([87,65,86,69],{offset:8}))return{ext:"wav",mime:"audio/x-wav"};if(i([35,33,65,77,82,10]))return{ext:"amr",mime:"audio/amr"};if(i([37,80,68,70]))return{ext:"pdf",mime:"application/pdf"};if(i([77,90]))return{ext:"exe",mime:"application/x-msdownload"};if((67===t[0]||70===t[0])&&i([87,83],{offset:1}))return{ext:"swf",mime:"application/x-shockwave-flash"};if(i([123,92,114,116,102]))return{ext:"rtf",mime:"application/rtf"};if(i([0,97,115,109]))return{ext:"wasm",mime:"application/wasm"};if(i([119,79,70,70])&&(i([0,1,0,0],{offset:4})||i([79,84,84,79],{offset:4})))return{ext:"woff",mime:"font/woff"};if(i([119,79,70,50])&&(i([0,1,0,0],{offset:4})||i([79,84,84,79],{offset:4})))return{ext:"woff2",mime:"font/woff2"};if(i([76,80],{offset:34})&&(i([0,0,1],{offset:8})||i([1,0,2],{offset:8})||i([2,0,2],{offset:8})))return{ext:"eot",mime:"application/octet-stream"};if(i([0,1,0,0,0]))return{ext:"ttf",mime:"font/ttf"};if(i([79,84,84,79,0]))return{ext:"otf",mime:"font/otf"};if(i([0,0,1,0]))return{ext:"ico",mime:"image/x-icon"};if(i([70,76,86,1]))return{ext:"flv",mime:"video/x-flv"};if(i([37,33]))return{ext:"ps",mime:"application/postscript"};if(i([253,55,122,88,90,0]))return{ext:"xz",mime:"application/x-xz"};if(i([83,81,76,105]))return{ext:"sqlite",mime:"application/x-sqlite3"};if(i([78,69,83,26]))return{ext:"nes",mime:"application/x-nintendo-nes-rom"};if(i([67,114,50,52]))return{ext:"crx",mime:"application/x-google-chrome-extension"};if(i([77,83,67,70])||i([73,83,99,40]))return{ext:"cab",mime:"application/vnd.ms-cab-compressed"};if(i([33,60,97,114,99,104,62,10,100,101,98,105,97,110,45,98,105,110,97,114,121]))return{ext:"deb",mime:"application/x-deb"};if(i([33,60,97,114,99,104,62]))return{ext:"ar",mime:"application/x-unix-archive"};if(i([237,171,238,219]))return{ext:"rpm",mime:"application/x-rpm"};if(i([31,160])||i([31,157]))return{ext:"Z",mime:"application/x-compress"};if(i([76,90,73,80]))return{ext:"lz",mime:"application/x-lzip"};if(i([208,207,17,224,161,177,26,225]))return{ext:"msi",mime:"application/x-msi"};if(i([6,14,43,52,2,5,1,1,13,1,2,1,1,2]))return{ext:"mxf",mime:"application/mxf"};if(i([71],{offset:4})&&(i([71],{offset:192})||i([71],{offset:196})))return{ext:"mts",mime:"video/mp2t"};if(i([66,76,69,78,68,69,82]))return{ext:"blend",mime:"application/x-blender"};if(i([66,80,71,251]))return{ext:"bpg",mime:"image/bpg"};if(i([0,0,0,12,106,80,32,32,13,10,135,10])){if(i([106,112,50,32],{offset:20}))return{ext:"jp2",mime:"image/jp2"};if(i([106,112,120,32],{offset:20}))return{ext:"jpx",mime:"image/jpx"};if(i([106,112,109,32],{offset:20}))return{ext:"jpm",mime:"image/jpm"};if(i([109,106,112,50],{offset:20}))return{ext:"mj2",mime:"image/mj2"}}return i([70,79,82,77,0])?{ext:"aif",mime:"audio/aiff"}:null};function A(e,t){return new Promise(function(i,n){var r=e.onUpload;if("function"!=typeof r)return n("onUpload is not a function");var o=r(t.localFiles||[],t);E(o)?o.then(i).catch(n):i()})}var P="__uid",O={image:"image/gif, image/jpeg, image/png, image/bmp",voice:"audio/mpeg, audio/amr"},D=function(e){return e},L=function(e){function t(t){var i=e.call(this,t)||this;i.onFileChange=function(e){var t=i.props.onChange;t?t(e):A(i.props,{localFiles:e})},i.processFiles=function(e){return function(t){var n=Array.from(t.target.files),r=i.props,o=r.filterFiles,a=r.onError,s=o(n),l=i.iteratorFiles(e);E(s)?s.then(l,a):l(n=s),t.target.value=null}},i.iteratorFiles=function(e){return function(t){var n=i.props,r=n.type,o=n.maxSize,a=n.maxAmount,s=n.silent,l=n.initIndex,p=n.errorMessages;t&&t.forEach(function(t,n){if(a&&n+l>=a){var m=C(p.overMaxAmount,{maxAmount:a,type:r},e.input.maxAmount);return!s&&m&&N.a.error(m),!1}if(!o||t.size<=o)i.addFile(t,n,e);else{m=C(p.overMaxSize,{maxSize:I(o),type:r},e.input.maxSize);!s&&m&&N.a.error(m)}return!0})}},i.autoShowInput=function(e){var t=i.props,n=t.maxAmount;t.auto&&1===n&&e&&"function"==typeof e.click&&e.click()};var n=t.accept,r=t.type;return n||(n=O[r]),i.state={accept:n},i}return Object(r.b)(t,e),t.prototype.addFile=function(e,t,i){var n=this,r=new FileReader,o=this.props,a=o.type,s=o.initIndex,l=o.silent,p=o.errorMessages,m=this.state.accept,c=[];r.onload=function(r){var o,f=S(function(e){for(var t=window.atob(e),i=t.length,n=new Uint8Array(i),r=0;r<i;r++)n[r]=t.charCodeAt(r);return n.buffer}(r.target.result.replace(/^(.*?)base64,/,"")));if(!m||f&&!f.mime.match(new RegExp(m.replace(/, ?/g,"|")))){var u=C(p.wrongMimeType,{type:a},i.input.type);!l&&u&&N.a.error(u)}else c.push(((o={src:r.target.result,file:e})[P]=s+t,o));n.onFileChange(c)},r.readAsDataURL(e)},t.prototype.render=function(){var e=this,t=this.props.maxAmount,i=this.state.accept;return o.createElement(x,{componentName:"Upload"},function(n){return o.createElement("input",{ref:e.autoShowInput,type:"file",placeholder:n.input.holder+" +",multiple:1!==t,accept:i,onChange:e.processFiles(n)})})},t.defaultProps={initIndex:0,maxAmount:0,silent:!1,maxSize:0,type:"",filterFiles:D,onError:D},t}(o.PureComponent),M=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={hideDeleteIcon:!1},t.handleRemove=function(){var e=t.props,i=e.index;(0,e.onDelete)(i)},t.handleDragStart=function(){t.setState({hideDeleteIcon:!0})},t.handleDragEnd=function(){t.setState({hideDeleteIcon:!1})},t}return Object(r.b)(t,e),t.prototype.render=function(){var e=this.props,t=e.progress,i=e.src,n=e.index,r=e.prefix,a=this.state.hideDeleteIcon;return o.createElement("li",{className:r+"-image-item",onDragStart:this.handleDragStart,onDragEnd:this.handleDragEnd,"data-id":n},o.createElement("div",{className:r+"-image-item__box",style:{backgroundImage:"url("+i+")"}}),!a&&o.createElement("span",{className:r+"__close-modal",onClick:this.handleRemove},"×"),t&&o.createElement("div",{className:r+"-image-item__progress"},t.toFixed(1)+"%"))},t}(o.PureComponent),R=i(333),T="unsortable";var B=function(e){function t(t){var i=e.call(this,t)||this;return i.handleMove=function(e,t){var n=i.state.localFiles;n=function(e,t,i){var n=Array.from([].concat(e)),r=n.splice(t,1)[0];return n.splice(i,0,r),n}(n,e,t),i.setState({localFiles:n})},i.handleDelete=function(e){var t=i.state.localFiles;t.splice(e,1),i.setState({localFiles:t})},i.handleChange=function(e){var t=i.state.localFiles;(t=t.concat(e)).sort(function(e,t){return e[P]>t[P]?1:-1}),i.setState({localFiles:t})},i.onListRefChange=function(e){var t,n,r,o;e?i.sortable=(t=e,n=i.handleMove,r=[],o=R.create(t,{filter:"."+T,onStart:function(){r=o.toArray()},onMove:function(e){return e.related.className!==T},onEnd:function(e){var t=e.newIndex,i=e.oldIndex;o.sort(r),n(i,t)}})):i.sortable&&i.sortable.destroy()},i.state={categoryId:t.options.categoryId,networkImage:t.networkImage,networkUploading:t.networkUploading,localUploading:t.localUploading,buttonText:t.i18n.popup.extract,localFiles:[]},i.networkUrl="",i.confirmNetworkUrl=i.confirmNetworkUrl.bind(i),i.networkUrlChanged=i.networkUrlChanged.bind(i),i.uploadLocalImages=i.uploadLocalImages.bind(i),i.fileProgressHandler=i.fileProgressHandler.bind(i),i.setCategoryId=i.setCategoryId.bind(i),i}return Object(r.b)(t,e),t.prototype.render=function(){var e=this.props,t=e.prefix,i=e.options,n=e.className,r=i.categoryList;return o.createElement("div",{className:n},o.createElement("div",{className:t+"-container"},r.length>0&&this.renderUploadGroup(this.props),!i.localOnly&&"voice"!==i.type&&this.renderNetworkRegion(this.props),this.renderLocalUploadRegion(this.props)),this.renderFooterRegion())},t.prototype.setCategoryId=function(e,t){this.setState({categoryId:t.id})},t.prototype.renderUploadGroup=function(e){var t=e.prefix,i=e.i18n,n=e.options.categoryList,r=this.state.categoryId;return o.createElement("div",{className:t+"-group-region"},o.createElement("div",{className:t+"-title"},i.popup.group,"："),o.createElement("div",{className:t+"-content"},o.createElement(h.a,{width:300,autoWidth:!0,data:n,value:r,optionValue:"id",optionText:"name",onChange:this.setCategoryId.bind(this)})))},t.prototype.renderNetworkRegion=function(e){var t=e.prefix,i=e.i18n,n=this.state,r=n.networkImage,a=n.networkUploading,s=n.buttonText;return o.createElement("div",{className:t+"-network-image-region"},o.createElement("div",{className:t+"-title"},i.popup.web,"："),o.createElement("div",{className:t+"-content"},o.createElement("div",{className:t+"-input-append"},o.createElement(v.a,{type:"text",placeholder:i.popup.holder,onChange:this.networkUrlChanged})),o.createElement(y.a,{type:"primary",outline:!0,loading:a,onClick:this.confirmNetworkUrl},s),o.createElement("div",{className:t+"-image-preview"},o.createElement("img",{src:r.attachment_url,alt:""}))))},t.prototype.renderLocalImage=function(e,t){var i=this.props.prefix;return o.createElement(M,Object(r.a)({prefix:i,key:t},e,{index:t,onDelete:this.handleDelete}))},t.prototype.renderLocalVoice=function(e,t){var i=this.props.prefix;return o.createElement("li",{key:t,className:i+"-voice-item"},o.createElement("div",{className:i+"-voice-item__icon"}),o.createElement("div",{className:i+"-voice-item__name"},e.file.name),o.createElement("div",{className:i+"-voice-item__createtime"},I(e.file.size)),o.createElement("span",{className:i+"__close-modal",onClick:this.handleDelete.bind(this,t)},"×"),e.progress?o.createElement("div",{className:i+"-voice-item__progress"},e.progress.toFixed(1)+"%"):"")},t.prototype.renderLocalUploadRegion=function(e){var t=this,i=e.prefix,n=e.accept,a=e.options,s=e.i18n,l=this.state.localFiles,m=0,c=l.length;return c>0&&(m=l[c-1][P]+1),o.createElement("div",{className:i+"-local-attachment-region"},o.createElement("div",{className:i+"-title"},s.popup["title_"+a.type]+"："),o.createElement("div",{className:i+"-content"},c>0&&o.createElement("ul",{ref:this.onListRefChange,className:i+"__upload-local-"+a.type+"-list"},l.map(function(e,i){return"voice"===a.type?t.renderLocalVoice(e,i):t.renderLocalImage(e,i)})),!a.maxAmount||l.length<a.maxAmount?o.createElement("div",{className:i+"-add-local-image-button pull-left"},o.createElement(p.a,{type:"plus"}),o.createElement(L,Object(r.a)({},e.options,{auto:!1,i18n:s,accept:n,initIndex:m,onChange:this.handleChange}))):"",o.createElement("div",{className:i+"-local-tips c-gray"},s.popup.type({types:n.replace(/image\/?|audio\/?/g,"").split(","),size:I(a.maxSize)}))))},t.prototype.renderFooterRegion=function(){var e=this.state,t=e.localUploading,i=e.localFiles,n=this.props,r=n.i18n,a=n.prefix;return o.createElement("div",{className:a+"__footer"},o.createElement(y.a,{type:"primary",size:"large",disabled:0===i.length,loading:t,onClick:this.uploadLocalImages},r.confirm))},t.prototype.uploadLocalImages=function(){var e=this,t=this.props,i=t.options,n=t.showUploadPopup,r=this.state,o=r.localFiles,a=r.categoryId;this.setState({localUploading:!0}),A(i,{localFiles:o,categoryId:a,onProgress:this.fileProgressHandler}).then(function(){e.setState({localUploading:!1}),n(!1)}).catch(function(){e.setState({localUploading:!1})})},t.prototype.networkUrlChanged=function(e){this.networkUrl=e.target.value},t.prototype.fileProgressHandler=function(e,t){var i=this.state.localFiles,n=i.findIndex(function(e){return e[P]===t});n>=0&&(i[n].progress=e),this.setState(i)},t.prototype.confirmNetworkUrl=function(){var e=this,t=this.props,i=t.options,n=t.showUploadPopup,r=t.i18n,o=this.state.categoryId;return!!this.networkUrl&&(this.setState({networkUploading:!0,buttonText:r.popup.extracting}),i.onFetch(this.networkUrl,o).then(function(){e.setState({networkImage:{},networkUploading:!1,buttonText:r.popup.extract}),n(!1)},function(){e.setState({networkUploading:!1,buttonText:r.popup.extract})}))},t.defaultProps={networkImage:{},networkUploading:!1,buttonText:"",options:{},className:""},t}(o.Component);i.d(t,"a",function(){return q});var H=function(){return new Promise(function(e){return e([])})},q=function(e){function t(t){var i=e.call(this,t)||this;return i.showUpload=function(e){void 0===e&&(e=!0);var t=i.props,n=t.localOnly,r=t.maxAmount;i.isUnmount||n&&1===r||i.setState({visible:e})},i.state={visible:!1},i.showUpload=i.showUpload.bind(i),i.closePopup=i.closePopup.bind(i),i}return Object(r.b)(t,e),t.prototype.componentDidMount=function(){this.props.auto&&this.showUpload(),this.props.silent&&console.warn("silent is deprecated, please use errorMessages to instead.")},t.prototype.componentWillUnmount=function(){this.isUnmount=!0},t.prototype.closePopup=function(){this.setState({visible:!1})},t.prototype.render=function(){var e=this,t=this.props,i=t.trigger,n=t.prefix,a=t.className,l=t.triggerClassName,c=t.tips,f=t.children,u=t.triggerInline,d=t.withoutPopup,g=Object(r.c)(t,["trigger","prefix","className","triggerClassName","tips","children","triggerInline","withoutPopup"]),h=this.state.visible,v=i;a===n+"-upload"&&(a="");var y=s()([n+"-upload",a]);a=s()([y,{inline:u}]);var w=g.accept||O[g.type];return o.createElement(x,{componentName:"Upload"},function(t){return d?o.createElement(B,{prefix:n+"-upload",options:g,accept:w,className:a,i18n:t,showUploadPopup:e.showUpload}):o.createElement(o.Fragment,null,o.createElement("div",{className:a},o.createElement("span",{className:l,onClick:e.showUpload.bind(e,!0)},f||v&&o.createElement(v,null)||o.createElement(p.a,{type:"plus"}),g.localOnly&&1===g.maxAmount&&o.createElement(L,Object(r.a)({},g,{i18n:t}))),o.createElement(m.a,{title:t["title_"+e.props.type],visible:h,className:y,onClose:e.closePopup},o.createElement(B,{prefix:n+"-upload",options:g,accept:w,className:a,i18n:t,showUploadPopup:e.showUpload}))),o.createElement("p",{className:n+"-upload-tips"},c))})},t.FileInput=L,t.defaultProps={prefix:"zent",className:"zent-upload",triggerClassName:"zent-upload-trigger",maxSize:1048576,maxAmount:0,tips:"",localOnly:!1,auto:!1,type:"image",filterFiles:l,onFetch:H,onUpload:H,categoryList:[],categoryId:"",triggerInline:!1,silent:!1,withoutPopup:!1,errorMessages:{}},t}(o.Component)}}]);